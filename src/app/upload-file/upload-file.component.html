
<div fxLayout="column">
  <h2 class="mat-display-1">Upload to Hydrus</h2>
  <form [formGroup]="uploadForm" (ngSubmit)="onSubmit()" fxLayout="column">


      <ngx-file-drag-drop class="file-drag-drop" #fileInput formControlName="fileInput" [multiple]="true"></ngx-file-drag-drop>
      <!-- <mat-icon matSuffix *ngIf="fileInput.empty">folder</mat-icon>
      <button mat-icon-button matSuffix *ngIf="!fileInput.empty" (click)="fileInput.clear($event)">
        <mat-icon>clear</mat-icon>
      </button> -->

    <mat-checkbox formControlName="addFilenameTag">Add filename tag (new files only)</mat-checkbox>

    <div fxLayout="row" fxLayoutAlign="end">
      <button mat-raised-button class="send-button" color="primary" type="submit" [disabled]="uploadForm.invalid || uploading$ | push">Upload</button>
    </div>
  </form>

  <div *rxIf="uploading$" class="upload-status">
    <div fxLayout='row' fxLayoutAlign="space-between none">
      <span>Uploading {{uploadFilename$ | push}}</span>
      <span>{{percentUploaded$ | push | round}}%</span>
    </div>
    <mat-progress-bar mode="determinate" [value]="percentUploaded$ | push"></mat-progress-bar>
  </div>


</div>
